<link rel="import"
      href="../../bower_components/polymer/polymer.html">
<link rel="import"
      href="../html-echo/html-echo.html">

<!-- we're not showing `type` info, yet. -->

<dom-module id="viewer-param">
  <template>
    <div class="param-pair">
      <dt class="param-name monospace" class$="{{getCSSClass(optional)}}" data-type$="{{dumpJSON(itemtype)}}">{{name}}</dt>
      <dd class="param-def" data-type$="{{dumpJSON(items)}}">
        <html-echo html="{{description}}" ></html-echo>
        <span hidden="{{description}}">No description</span>
      </dd>
    </div>
  </template>
  <style>
  .param-pair {
    display: flex;
    align-items: baseline;  
    margin-bottom: 6px;
  }
  .param-pair:hover {
    background: hsla(0, 100%, 100%, 0.6);
    border-radius: 5px;
  }

  dt {
    flex: 1 0 0;
    text-align: right;
    color: black;
  }
  dd {
    flex: 3 0 0;
    margin-left: 20px;
  }
  dt, dd {
    vertical-align: text-top;
  }


  </style>
  <script>
    Polymer({
      is: 'viewer-param',
      properties: {
        name: String,
        description: String,
        optional: Boolean,
        itemtype: String,
        ref: String, 
        items: Object
      },
      getCSSClass: function(optional) {

        var cssClass = this.$$('dt').className;

        if(optional) {
          cssClass += ' optional';
        }

        return cssClass;
      }, 
      dumpJSON: function(obj, type){
        var value = obj.$ref || obj.type || obj;
        return value;
      }
    });
  </script>
</dom-module>
